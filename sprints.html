<!DOCTYPE HTML>

<html>
	<head>
		<title>Sprints</title>
		<meta charset="utf-8" />
		<link rel="icon" href="marble.jpg">
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<!--[if lte IE 8]><script src="assets/js/ie/html5shiv.js"></script><![endif]-->
		<link rel="stylesheet" href="template_assets/css/main.css" />
		<!--[if lte IE 9]><link rel="stylesheet" href="assets/css/ie9.css" /><![endif]-->
		<!--[if lte IE 8]><link rel="stylesheet" href="assets/css/ie8.css" /><![endif]-->
	</head>
	<body>

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Main -->
					<div id="main">
						<div class="inner">

							<!-- Header -->
								<header id="header">
									<a href="sprints.html" class="logo"><strong>Editorial</strong> by HTML5 UP</a>
									<ul class="icons">
										<li><a href="#" class="icon fa-twitter"><span class="label">Twitter</span></a></li>
										<li><a href="#" class="icon fa-facebook"><span class="label">Facebook</span></a></li>
										<li><a href="#" class="icon fa-snapchat-ghost"><span class="label">Snapchat</span></a></li>
										<li><a href="#" class="icon fa-instagram"><span class="label">Instagram</span></a></li>
										<li><a href="#" class="icon fa-medium"><span class="label">Medium</span></a></li>
									</ul>
								</header>

							<!-- Content -->
								<section>
									<header class="main">
										<h1>Sprints</h1>
									</header>

									<h2><b>Goal:</b></h2>
<h3><b>Create a machine that plays music using marbles, inspired by the Wintergatan marble machine</b></h3><ul>
<li>Capable of playing any song</li>
<li>Aesthetically pleasing and mechanically complex</li>
<li>(and eventually) stores songs using mechanical memory</li></ul>
</p>
									<hr class="major" />

									<h2>Sprint 1</h2>
									<h3>Target Deliverables</h3>
									<i><ul>
										<li>Find a viable musical instrument</li>
										<li>Find a viable marble dropping mechanism</li>
										<li>Construct a working prototype capable of playing songs with multiple notes</li>
									</ul></i>
									<p><b>In order to play nice music we need a nice instrument.</b> We decided make, not buy, an instrument in order to both reduce cost to us and as a fun challenge.  At the beginning, we weren’t sure what material would be best, so we manufactured a range of possible instruments and rated them on their cost, pitch, and timbre. </p>
									<span class="sprint1instruments"><img src="images/sprint1instruments.png" alt="A photo of our instruments prototypes."/></span>
<p>We decided on metal pipes for our notes because of their high marks in every category we tested</p>
<img src="images/tubes.jpg" alt="A photo of our metal tubes."/><p>
Additionally, we experimented with the actuation that causes the dropping of the marbles. For this sprint we tested using a stepper to control both when a marble drops and where the marble goes. 
</p>
<img src="images/dropper.jpg" alt="A photo of our dropper."/>

<iframe width="560" height="315" src="https://www.youtube.com/embed/qOTImKK5Mck" frameborder="0" gesture="media" allow="encrypted-media" allowfullscreen></iframe>

<p>
As you can see our device is not much yet, with only 2 notes and a slow servo motor, but we accomplished our sprint goals of exploring the materials for making notes and testing out some actuation.
</p>

									<hr class="major" />

									<h2>Sprint 2</h2>
									<p>
After getting a good feel for our system in Sprint 1 we decided to pivot on a major design aspect of our machine, namely its actuation. As you can see in Sprint 1 we routed marbles with a servo that could open a gate and let a marble through. This is effective for example tune playing; however there are several limitations: many servos are required for a large range of notes, servos are severely limited in speed and therefore lack the temporal precision needed to play a song, and all the notes would have to be controlled by a computer rather than a microcontroller if you wanted to play multiple songs.
So we decided to pivot.
</p><p>
We decided that if the notes of the song were stored physically rather than in a computer, we could create a device that can play faster songs, be mechanically cooler, and more aesthetically pleasing.
</p><p>
So for Sprint  2 we wanted to manufacture a prototype that:</p><ul>
<li>Stores songs using mechanical memory</li>
<li>Feed marbles into mechanical memory</li>
<li>Plays several tuned notes</li>
</ul><p>
Without any adieu, here it is in all it’s glory!<p>
<img src="images/sprint2.png" alt="A photo of our Sprint 2."/></p>
<p>
You’re probably wondering how it plays music. Well if you will refer to the images below, we’ll tell you.</p>
<ol>
<li>Song Sheet: We designed a Python program to get a music MIDI files and convert it into a SVG that we can cut out to mechanically represent the song, as shown below.</li>
<img src="images/songsheet1.jpg" alt="A photo of our Song Sheet."/>
<img src="images/songsheet2.png" alt="A photo of our digital song sheet."/>
<img src="images/sprint22.png" alt="A photo of our Sprint 2."/>
<li>Marble Reservoir: Marbles are contained in the reservoir so that as the song sheet passes under it, they fall into the holes of the sheet.
</li><li>Free spinning wheels: The wheels will along the song sheet to slide into the slot under the reservoir
</li><li>Stepper Motor: The stepper motor will drive the song sheet so that it can be consistently fed into the slot. We went through a large amount of trial and error to get it to spin reliably, changing from using an Arduino Motor Shield, to an H Bridge Motor Driver, to an actual stepper motor driver.
<img src="images/control.png" alt="A photo of our Sprint 2."/>
</li><li>
Marble Drop Holes: After the sheet passes the reservoir, it passes over the drop holes, where marbles in the sheet will fall towards ramps below.
</li><li>Marble Ramps: Marbles will enter ramps corresponding to each note, which will lead the marble the right spot on the right pipe.
</li><li>Tuned Pipe: The marbles will bounce off the pipe producing a melody.
</li><li>Marble Collection Tray: After ricocheting off of the pipes, marbles are collected and  routed towards the collection tray where they can be accessed for later use.
<img src="images/sprint23.png" alt="A photo of our Sprint 2."/></li>
</ol>
<p>
Well, this was the intention of each mechanism. As in life, things do not always turn out the way you expect.  <a href="https://www.youtube.com/watch?v=rFCDxCn7umE">Here’s Ode to Joy</a>:
</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/rFCDxCn7umE?rel=0&amp;showinfo=0" frameborder="0" gesture="media" allow="encrypted-media" allowfullscreen></iframe>
<br><br><p>As you might notice from the video, our stepper motor is not where it is supposed to be. Also, there is string connected to a screw in our song sheet. As we discovered after fabrication, wheels, especially the one driven by the stepper motor, do not get enough grip on the song sheet to reliably move it. As a quick fix, we attached a string to the sheet and to the stepper to feed it through.
</p>

									<hr class="major" />

									<h2>Sprint 3</h2>
									<p>Addressing the issues from the last sprint:</p><p>
Our top priority for this sprint was fixing the wheel grip issue from the last sprint. If we do not have a song sheet feeding in on its own, we do not have a product.
</p><p>
Beyond that, we wanted to Manufacture a prototype that:</p>
<ul>
<li>Recycles marbles after they hit pipes</li>
<li>Can play variable note durations</li>
<li>Can play an entire octave of notes</li>
</ul>
<p>Fixing Grip Issues:</p>
<p>After experimenting with wheels and strings as methods of driving the sheet, we decide that neither are sufficient for our purposes, with wheel not getting a good grip and the string being too jerky and hard to control. Consequently, in sprint 3 we switched to a rack and pinion system to control the sheet, as shown below.</p>
<img src="images/acrylic.png" alt="A photo of our rack and pinion."/>
<p>
This enables us to both get a better grip on the sheet as well as control it with more spatial precision.
</p>
<p>
Recycling Marbles:</p>
<p>Next, we focussed on our next goal of recycling marbles so the machine can keep playing without having to be reloaded. Thi requires both marbles to be routed to an appropriate spot after hitting pipes, for marbles to be brought back to the top and subsequently be loaded into the reservoir.
</p><p>
The marble routing was trivial, we simply angled our bottom plate and added ramp so all the marbles would collect in a bottom corner of the machine.</p>
<img src="images/corner.png" alt="A photo of our Sprint 3 Corner."/>
<p>The next step was more difficult. We needed a good way to bring the marbles back to the top at a fast enough rate that they could keep up with a song sheet. The two likely option are either a belt (possibly magnetic) that would take marbles back up to the top and a water wheel that would keep the marbles in compartments that release them at the top. As you can see from the picture below, we ended up going with the wheel due to its high marble capacity… and it just looks so cool.
<img src="images/belt.png" alt="A photo of a belt."/><img src="images/wheel.png" alt="A photo of our Sprint 3 wheel."/></p>
After the wheel take the marbles back up, it deposits them into a collection tray that feed back into the reservoir to be used again.
<p><img src="images/tray.png" alt="A photo of our Sprint 3 Collection Tray."/>

<p>
Since the CAD was designed in an intelligent way, scaling up to an octave was trivial. But since we had to recut all parts of the device we did not have enough time to solve our third goal of variable song sheet speed. Instead we leave room extra space in the cut sheet for longer notes.
</p><p>
Finally, here is the final device assembled!
</p><img src="images/sprint3.png" alt="A photo of our Sprint 3."/><p>
Looks impressive doesn’t it? Good, cause it doesn’t work.</p><p>
Unfortunately after finally assembling the device at the end of sprint three, we found that it did not play beautiful melodies like we hoped for 3 big reasons:</p><ol>
<li>We cut the ramps on the inside out of the wrong material, so we had to sand them down to get them to fit. This imprecise sanding caused variability in ramp position which led to marbles missing their notes</li>
<li>Since we were so busy with fabrication and  assembly we took a shortcut in mounting the pipes, holding them all at the same points rather than at ¼ and ¾ points along the pipe (the points that cause the best resonation). This caused some pipes to resonate very poorly and therefore be almost inaudible in the song. </li>
<li>Due to size and position of some of the dividers in the marble reservoir, marbles would get caught on each other. This caused marbles to not fall into some holes on the sheet and therefore not be represented in the song. </li>
</ol><p>
Additionally, the mechanism to reroute marbles to the top was non-functional for 3 reasons:</p><ol>
<li>The collection ramps at the bottom of the machine were too shallow so marbles would not roll down correctly</li>
<li>We could not get the wheel to turn with the stepper motor we had, due to it requiring more current and voltage than we could supply</li>
<li>The marbles fell out of our wheel at the wrong time and would not get caught to get rerouted into the feeding mechanism.</li>
</ol>
</p>

									<hr class="major" />

									<h2>Sprint 4</h2>
									<p>Being our fourth and final deliverable we needed to polish our design and come up with a working product. So our goals for the final deliverable were to 
</p><ul><li>Get consistent feeding into the song sheet.</li>
<li>Change our marble collection funnel so it will consistently catch marbles from the wheel</li>
<li>Turn the wheel</li>
<li>Get the ramps to work by cutting them out of appropriately sized wood</li>
<li>Make the base plate steeper</li>
<li>Mount the pipes correctly</li>
</ul>
<p>So, this is a lot to change. Let’s see how we did on each.</p>


<p><b>Get consistent feeding into the song sheet:</b></p>
<p>Originally the spacers of sprint 3 caused marbles to get stuck on each other and not feed correctly. To counteract this we took out the spacer and turn the feeder in to a wide ball pit (not the fun kind) where the is a long base layer of marbles that provide plenty of opportunity for marbles to fall into the sheet. This method worked significantly better and we found no problems with loading marbles correctly. 
</p><p><b>
Change our marble collection funnel so it will consistently catch marbles from the wheel:</b></p><p>
After checking to see where the marbles were missing, we extended the collection tray to account for that area, catching the marbles that missed before.
</p>
<p>
<b>Make the base plate steeper:</b></p><p>
To fix the problem of the marbles not routing into the wheel, we increased the steepness of the base plates. This easily fixed the problem and produced satisfying marble routing towards the wheel.
</p><p><b>
Turn the wheel:</b></p><p>
In sprint three we did not have a turning wheel due to not being able to power the stepper we had. In order to bypass this, we first explored a slightly smaller stepper motor that appeared to have plenty of torque. However, after printing a mount for the stepper and testing it with the wheel we found that although it could turn the wheel, it was not strong enough that we would have faith it would work integrated into the system. 
</p><p>We decided to instead turn the wheel with a found DC motor that gave more torque. After integrating the motor we found it spun the wheel well, in fact too well. At the speed with sufficient torque, the motor spun the large wheel a revolution per second, much too fast for our purposes. To counteract this we coded the motor to only occasionally turn the wheel and coast off of the moment generated in between runs. This worked for a time, but consistent and sudden change in speed caused the shaft to strip the inside of the 3D printed part we used to interface between the shaft and the wheel, disabling the wheel.
</p><p><b>
Mount the pipes correctly:</b></p><p>
With the severe problems of decreased resonation due to improper pipe spacing, we were careful in this sprint to drill holes into pipes so that they would have maximum resonance. After drilling the holes, measuring hole distance from the bottom of the pipe, and inputting the data into the mount to have properly spaced holes, we were able to have mounted pipes that resonated well. 
</p><p>However, we improperly accounted for the change in baseplate angle, causing the baseplate to interfere with the bottom set of pipes. Since the base plate and sides were already cut and we did not have enough wood or time recut all the pieces, we remounted the pipes higher. Unfortunately, this threw off the math associated with the ramps, causing marbles to hit the base plate too early, reducing the reliability of half our notes.
</p><p><b>
Cutting ramps out of appropriately sized wood:</b></p><p>
Last time we cut the ramps out of too thick wood (¼ inch) and sanded them down to get them to fit in the ramp holders. This caused small differences in the heights of the ramps that pushed marbles from their correct path and caused them to either miss or play the wrong note. 
</p><p>
To counteract this we cut the ramps out of thinner wood (⅛ inch) in this sprint and adjusted the holders accordingly. With this method the marbles did not jump to the wrong ramp; however, the ramps were too thin and the marbles got stuck in between the sides. 
</p><p>
So, we went back to the ¼ inch ramps but this time adjusted the ramp holders so we would not have to sand them down and cause inequalities in ramp height. After cutting and testing these ramps we found we had the same problem as before just to a lesser extent. The space between the ramps was not large enough to reliably keep the marbles in line. 
</p><p>
Like the Goldilocks of Engineering, we experimented with our too big and too small ramps and decided on a ramp thickness of 3/16ths as a happy medium. Unlike the Goldilocks of Engineering, we found our medium to be not too happy.
</p><p>
Despite using the same wood thickness in sprint 2 and having no problems, we still found that marbles occasionally skipped ramps or did not hit. This is likely due to the increased size of our project compared to sprint 2 causing structural problems with the ramp holders and consequently allowing slight bumps to mess up the alignment. However, a large amount of notes missing is due to the the improperly aligned bottom pipes. 
</p><p><b>

Conclusion:</b></p><p>
As you can probably guess from our problems with wheel turning and marble routing, the final device was not in working shape. It could successfully feed a song in, but the pipe issues made the song hard to recognize, additionally the wheel was unable to bring the marbles back to the top. 
</p><p>
Despite the problems with the final project, the whole process was good learning experience. We all got experience iterating on an integrated, mechanically complex machine and collaborating as a team to deliver a final product.
</p><img src="images/sprint4.png" alt="A photo of our Sprint 4"/><img src="images/sprint41.png" alt="A photo of our Sprint 4 interior."/>

								</section>

						</div>
					</div>

				<!-- Sidebar -->
					<div id="sidebar">
						<div class="inner">

							<!-- Search -->
								<section id="search" class="alt">
									<form method="post" action="#">
										<input type="text" name="query" id="query" placeholder="Search" />
									</form>
								</section>

							<!-- Menu -->
								<nav id="menu">
									<header class="major">
										<h2>Menu</h2>
									</header>
									<ul>
										<li><a href="index.html">Homepage</a></li>
										<li><a href="sprints.html">Sprints</a></li>
										<li><a href="elements.html">Elements</a></li>
										<li>
											<span class="opener">Submenu</span>
											<ul>
												<li><a href="#">Lorem Dolor</a></li>
												<li><a href="#">Ipsum Adipiscing</a></li>
												<li><a href="#">Tempus Magna</a></li>
												<li><a href="#">Feugiat Veroeros</a></li>
											</ul>
										</li>
										<li><a href="#">Etiam Dolore</a></li>
										<li><a href="#">Adipiscing</a></li>
										<li>
											<span class="opener">Another Submenu</span>
											<ul>
												<li><a href="#">Lorem Dolor</a></li>
												<li><a href="#">Ipsum Adipiscing</a></li>
												<li><a href="#">Tempus Magna</a></li>
												<li><a href="#">Feugiat Veroeros</a></li>
											</ul>
										</li>
										<li><a href="#">Maximus Erat</a></li>
										<li><a href="#">Sapien Mauris</a></li>
										<li><a href="#">Amet Lacinia</a></li>
									</ul>
								</nav>

							<!-- Section -->
								<section>
									<header class="major">
										<h2>Ante interdum</h2>
									</header>
									<div class="mini-posts">
										<article>
											<a href="#" class="image"><img src="images/pic07.jpg" alt="" /></a>
											<p>Aenean ornare velit lacus, ac varius enim lorem ullamcorper dolore aliquam.</p>
										</article>
										<article>
											<a href="#" class="image"><img src="images/pic08.jpg" alt="" /></a>
											<p>Aenean ornare velit lacus, ac varius enim lorem ullamcorper dolore aliquam.</p>
										</article>
										<article>
											<a href="#" class="image"><img src="images/pic09.jpg" alt="" /></a>
											<p>Aenean ornare velit lacus, ac varius enim lorem ullamcorper dolore aliquam.</p>
										</article>
									</div>
									<ul class="actions">
										<li><a href="#" class="button">More</a></li>
									</ul>
								</section>

							<!-- Section -->
								<section>
									<header class="major">
										<h2>Get in touch</h2>
									</header>
									<p>Sed varius enim lorem ullamcorper dolore aliquam aenean ornare velit lacus, ac varius enim lorem ullamcorper dolore. Proin sed aliquam facilisis ante interdum. Sed nulla amet lorem feugiat tempus aliquam.</p>
									<ul class="contact">
										<li class="fa-envelope-o"><a href="#">information@untitled.tld</a></li>
										<li class="fa-phone">(000) 000-0000</li>
										<li class="fa-home">1234 Somewhere Road #8254<br />
										Nashville, TN 00000-0000</li>
									</ul>
								</section>

							<!-- Footer -->
								<footer id="footer">
									<p class="copyright">&copy; Untitled. All rights reserved. Demo Images: <a href="https://unsplash.com">Unsplash</a>. Design: <a href="https://html5up.net">HTML5 UP</a>.</p>
								</footer>

						</div>
					</div>

			</div>

		<!-- Scripts -->
			<script src="template_assets/js/jquery.min.js"></script>
			<script src="template_assets/js/skel.min.js"></script>
			<script src="template_assets/js/util.js"></script>
			<!--[if lte IE 8]><script src="assets/js/ie/respond.min.js"></script><![endif]-->
			<script src="template_assets/js/main.js"></script>

	</body>
</html>
